{"ast":null,"code":"var _jsxFileName = \"/Users/spaul/dev/london/my-app/src/Map.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from \"d3\";\nimport useWindowSize from './useWindowSize';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst margin = {\n  top: 10,\n  right: 30,\n  bottom: 30,\n  left: 60\n};\n\nconst Map = props => {\n  _s();\n\n  const paperRef = useRef();\n  const d3Ref = useRef(d3.selectAll(\"#paper-plane svg g\"));\n  const windowSize = useWindowSize();\n  let streets;\n  let pumps;\n  let deaths;\n  let xScale = d3.scaleLinear().domain([0, 20]).range([0, 1000 - margin.left - margin.right]);\n  let yScale = d3.scaleLinear().domain([0, 20]).range([1000 - margin.top - margin.bottom, 0]);\n  let tooltip = null;\n  useEffect(() => createMap(), []);\n  useEffect(() => {\n    paperRef.current = document.getElementById(\"paper-plane\");\n\n    if (paperRef.current) {\n      xScale = d3.scaleLinear().domain([0, 20]).range([0, paperRef.current.clientWidth - margin.left - margin.right]);\n      yScale = d3.scaleLinear().domain([0, 20]).range([paperRef.current.clientWidth - margin.top - margin.bottom, 0]);\n      d3Ref.current.attr(\"width\", paperRef.current.clientWidth).attr(\"height\", paperRef.current.clientWidth); // setWidth(paperRef.current.clientWidth);\n    }\n  }, [windowSize.width, windowSize.height]);\n  const [k, setK] = useState(1);\n  const [x, setX] = useState(0);\n  const [y, setY] = useState(0);\n  const svgRef = useRef();\n  useEffect(() => {\n    tooltip = d3.select(\"#tooltip\").append(\"div\").style(\"position\", \"absolute\").style(\"visibility\", \"hidden\").style(\"padding\", \"10px\").style(\"border-radius\", \"5px\").style(\"zIndex\", 3).style(\"background\", \"gray\").style(\"color\", \"white\").style(\"height\", \"70px\").style(\"width\", \"120px\").text(\"\");\n    const zoom = d3.zoom().on(\"zoom\", event => {\n      const {\n        x,\n        y,\n        k\n      } = event.transform;\n      setK(k);\n      setX(x);\n      setY(y);\n    });\n\n    if (d3Ref.current) {//@ts-ignore\n      // d3.select(d3Ref.current).call(zoom);\n    }\n  }, []);\n\n  const createMap = () => {\n    d3Ref.current = d3.selectAll(\"#paper-plane svg g\") //@ts-ignore\n    .call(d3.zoom().on(\"zoom\", function (e) {\n      // console.log(e)\n      // console.log(d3.event)\n      d3Ref.current.attr(\"transform\", d3.event.transform);\n    })); // d3Ref.current\n    //     .attr(\"width\", width)\n    //     .attr(\"height\", height)\n    //     .append(\"g\");\n    // streets\n\n    streets = d3Ref.current.selectAll('polygon').data(props.streets).enter().append(\"polygon\").style(\"stroke\", \"lightgray\").style(\"fill\", \"lightgray\").style(\"stroke-width\", 10).style(\"z-index\", 0).attr(\"points\", d => {\n      let points = \"\";\n      d.forEach((_, i) => points += `${xScale(d[i].x)}, ${yScale(d[i].y)} `);\n      return points;\n    });\n    console.log(streets); //pumps\n\n    pumps = d3Ref.current.selectAll('circle').data(props.pumps).enter().append('circle').style(\"fill\", \"deepskyblue\").style(\"r\", 8).style(\"z-index\", 2).attr(\"cx\", d => xScale(d.x)).attr(\"cy\", d => yScale(d.y));\n    deaths = d3Ref.current.selectAll('text').data(props.deaths).enter().append(\"circle\").style(\"fill\", \"red\").style(\"r\", 2).attr(\"cx\", d => xScale(d.x)).attr(\"cy\", d => yScale(d.y)).style(\"z-index\", 1).style(\"cursor\", \"pointer\").on(\"mouseover\", (d, l) => {\n      console.log(d);\n      console.log(l);\n      return tooltip.style(\"visibility\", \"visible\").html(`\n                    <b>Age</b>: ${l.age}\n                    <b>Gender</b>: ${l.gender}\n                `);\n    }).on(\"mousemove\", d => {\n      return tooltip.style(\"top\", d.y - 15 + \"px\").style(\"left\", d.x + 15 + \"px\");\n    });\n  };\n\n  useEffect(() => {\n    if (streets && pumps && deaths) {\n      streets.attr(\"points\", d => {\n        let points = \"\";\n        d.forEach((_, i) => points += `${xScale(d[i].x)}, ${yScale(d[i].y)} `);\n        return points;\n      });\n      deaths.attr(\"cx\", d => xScale(d.x)).attr(\"cy\", d => yScale(d.y));\n      pumps.attr(\"cx\", d => xScale(d.x)).attr(\"cy\", d => yScale(d.y));\n    }\n  }, [windowSize.width]);\n  useEffect(() => {\n    pumps = pumps.data(props.pumps).enter().append('circle').style(\"fill\", \"deepskyblue\").style(\"r\", 8).style(\"z-index\", 2).attr(\"cx\", d => xScale(d.x)).attr(\"cy\", d => yScale(d.y));\n  }, [props.pumps]);\n  useEffect(() => {\n    deaths = deaths.data(props.deaths).enter().append(\"circle\").style(\"fill\", \"red\").style(\"r\", 2).attr(\"cx\", d => xScale(d.x)).attr(\"cy\", d => yScale(d.y)).style(\"z-index\", 1).style(\"cursor\", \"pointer\").on(\"mouseover\", d => tooltip.style(\"visibility\", \"visible\").text(`Age: ${d.age}`)).on(\"mousemove\", d => {\n      return tooltip.style(\"top\", yScale(d.y) - 15 + \"px\").style(\"left\", xScale(d.x) + 15 + \"px\");\n    });\n  }, [props.deaths]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"tooltip\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"paper-plane\",\n      style: {\n        // p: 2,\n        display: 'flex',\n        flexDirection: 'column',\n        height: windowSize.height\n      },\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        height: \"100%\",\n        children: /*#__PURE__*/_jsxDEV(\"g\", {\n          height: \"100%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Map, \"kR5vdQaLFVWHNxSzHyvbikBEI9Y=\", false, function () {\n  return [useWindowSize];\n});\n\n_c = Map;\nexport default Map;\n\nvar _c;\n\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["React","useEffect","useRef","useState","d3","useWindowSize","margin","top","right","bottom","left","Map","props","paperRef","d3Ref","selectAll","windowSize","streets","pumps","deaths","xScale","scaleLinear","domain","range","yScale","tooltip","createMap","current","document","getElementById","clientWidth","attr","width","height","k","setK","x","setX","y","setY","svgRef","select","append","style","text","zoom","on","event","transform","call","e","data","enter","d","points","forEach","_","i","console","log","l","html","age","gender","display","flexDirection"],"sources":["/Users/spaul/dev/london/my-app/src/Map.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from \"d3\";\nimport useWindowSize from './useWindowSize';\n\nconst margin = {top: 10, right: 30, bottom: 30, left: 60}\n\ntype Props = {\n    streets: any;\n    pumps: any;\n    deaths: any;\n}\n\nconst Map = (props: Props) => {\n    const paperRef = useRef<HTMLElement | null>();\n    const d3Ref = useRef(d3.selectAll(\"#paper-plane svg g\"));\n    const windowSize = useWindowSize();\n    let streets: d3.Selection<d3.BaseType, unknown, d3.BaseType, unknown>;\n    let pumps: d3.Selection<d3.BaseType, unknown, d3.BaseType, unknown>;\n    let deaths: d3.Selection<d3.BaseType, unknown, d3.BaseType, unknown>;\n    let xScale = d3.scaleLinear().domain([0, 20]).range([0, 1000 - margin.left - margin.right]);\n    let yScale = d3.scaleLinear().domain([0, 20]).range([1000 - margin.top - margin.bottom, 0]);\n    let tooltip: any = null;\n    \n\n    useEffect(()=>createMap(),[]);\n\n    useEffect(() => {\n        \n        paperRef.current = document.getElementById(\"paper-plane\");\n        if (paperRef.current) {\n            xScale = d3.scaleLinear().domain([0, 20]).range([0, paperRef.current.clientWidth - margin.left - margin.right]);\n            yScale = d3.scaleLinear().domain([0, 20]).range([paperRef.current.clientWidth - margin.top - margin.bottom, 0]);\n            d3Ref.current\n            .attr(\"width\", paperRef.current.clientWidth)\n            .attr(\"height\", paperRef.current.clientWidth)\n            // setWidth(paperRef.current.clientWidth);\n        }\n    },[windowSize.width, windowSize.height])\n\n    const [k, setK] = useState(1);\n    const [x, setX] = useState(0);\n    const [y, setY] = useState(0);\n    const svgRef = useRef();\n\n    useEffect(() => {\n        tooltip = d3.select(\"#tooltip\")\n            .append(\"div\")\n                .style(\"position\", \"absolute\")\n                .style(\"visibility\", \"hidden\")\n                .style(\"padding\", \"10px\")\n                .style(\"border-radius\", \"5px\")\n                .style(\"zIndex\", 3)\n                .style(\"background\", \"gray\")\n                .style(\"color\", \"white\")\n                .style(\"height\", \"70px\")\n                .style(\"width\", \"120px\")\n                .text(\"\");\n        const zoom = d3.zoom().on(\"zoom\", (event) => {\n          const { x, y, k } = event.transform;\n          setK(k);\n          setX(x);\n          setY(y);\n        });\n        if (d3Ref.current) {\n            //@ts-ignore\n            // d3.select(d3Ref.current).call(zoom);\n        }\n      }, []);\n\n    const createMap = () => {\n        d3Ref.current = d3.selectAll(\"#paper-plane svg g\")\n        //@ts-ignore\n        .call(d3.zoom().on(\"zoom\", function (e) {\n            // console.log(e)\n            // console.log(d3.event)\n            d3Ref.current.attr(\"transform\", d3.event.transform)\n        }));\n\n        // d3Ref.current\n        //     .attr(\"width\", width)\n        //     .attr(\"height\", height)\n        //     .append(\"g\");\n        \n        // streets\n        streets = d3Ref.current.selectAll('polygon')\n            .data(props.streets)\n            .enter()\n            .append(\"polygon\")\n            .style(\"stroke\", \"lightgray\")\n            .style(\"fill\", \"lightgray\")\n            .style(\"stroke-width\", 10)\n            .style(\"z-index\", 0)\n            .attr(\"points\", (d: any) => {\n                let points = \"\";\n                d.forEach((_: any, i: string | number) => points += `${xScale(d[i].x)}, ${yScale(d[i].y)} `);\n                return points;\n            }) as any;\n            console.log(streets)\n        \n\n        //pumps\n        pumps = d3Ref.current.selectAll('circle')\n            .data(props.pumps)\n            .enter()\n            .append('circle')\n            .style(\"fill\", \"deepskyblue\")\n            .style(\"r\", 8)\n            .style(\"z-index\", 2)\n            .attr(\"cx\", (d:any) => xScale(d.x))\n            .attr(\"cy\", (d:any) => yScale(d.y)) as any;\n        \n        deaths = d3Ref.current.selectAll('text')\n            .data(props.deaths)\n            .enter()\n            .append(\"circle\")\n            .style(\"fill\", \"red\")\n            .style(\"r\", 2)\n            .attr(\"cx\", (d:any) => xScale(d.x))\n            .attr(\"cy\", (d:any) => yScale(d.y))\n            .style(\"z-index\", 1)\n            .style(\"cursor\", \"pointer\")\n            .on(\"mouseover\", (d, l: any) => {\n                console.log(d);\n                console.log(l);\n                return tooltip.style(\"visibility\", \"visible\").html(`\n                    <b>Age</b>: ${l.age}\n                    <b>Gender</b>: ${l.gender}\n                `);\n            })\n            .on(\"mousemove\", (d) => {\n                return tooltip.style(\"top\", (d.y - 15)+\"px\").style(\"left\",(d.x + 15)+\"px\")\n            }) as any\n    }\n\n    useEffect(() => {\n        if (streets && pumps && deaths) {\n            streets.attr(\"points\", (d:any) => {\n                let points = \"\";\n                d.forEach((_:any, i: number) => points += `${xScale(d[i].x)}, ${yScale(d[i].y)} `);\n                return points;\n            });\n            deaths.attr(\"cx\", (d:any) => xScale(d.x))\n            .attr(\"cy\", (d:any) => yScale(d.y))\n            pumps.attr(\"cx\", (d:any) => xScale(d.x))\n            .attr(\"cy\", (d:any) => yScale(d.y))\n        }\n    },[windowSize.width]);\n\n    useEffect(() => {\n        pumps = pumps\n        .data(props.pumps)\n        .enter()\n        .append('circle')\n        .style(\"fill\", \"deepskyblue\")\n        .style(\"r\", 8)\n        .style(\"z-index\", 2)\n        .attr(\"cx\", (d:any) => xScale(d.x))\n        .attr(\"cy\", (d:any) => yScale(d.y)) as any;\n    },[props.pumps]);\n\n    useEffect(() => {\n        deaths = deaths\n            .data(props.deaths)\n            .enter()\n            .append(\"circle\")\n            .style(\"fill\", \"red\")\n            .style(\"r\", 2)\n            .attr(\"cx\", (d:any) => xScale(d.x))\n            .attr(\"cy\", (d:any) => yScale(d.y))\n            .style(\"z-index\", 1)\n            .style(\"cursor\", \"pointer\")\n            .on(\"mouseover\", (d) => tooltip.style(\"visibility\", \"visible\").text(`Age: ${d.age}`))\n            .on(\"mousemove\", (d) => {\n                return tooltip.style(\"top\", (yScale(d.y) - 15)+\"px\").style(\"left\",(xScale(d.x) + 15)+\"px\")\n            }) as any\n    },[props.deaths])\n\n    return <>\n        <div id=\"tooltip\"></div>\n        <div\n            id=\"paper-plane\"\n            style={{\n                // p: 2,\n                display: 'flex',\n                flexDirection: 'column',\n                height: windowSize.height,\n            }}\n        >\n            <svg height=\"100%\">\n                <g height=\"100%\">\n                </g>\n            </svg>\n        </div>\n    </>;\n}\n\nexport default Map;"],"mappings":"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"},"metadata":{},"sourceType":"module"}