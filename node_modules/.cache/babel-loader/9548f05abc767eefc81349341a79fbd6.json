{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/spaul/dev/london/my-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _slicedToArray from\"/Users/spaul/dev/london/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{useRecoilState}from'recoil';import DeathsFile from'./assets/deaths.json';import Age from'./State/Age';import TheDate from'./State/Date';import Sex from'./State/Sex';var useDeaths=function useDeaths(){var _useState=useState(DeathsFile),_useState2=_slicedToArray(_useState,2),deaths=_useState2[0],setDeaths=_useState2[1];var _useRecoilState=useRecoilState(Age),_useRecoilState2=_slicedToArray(_useRecoilState,1),age=_useRecoilState2[0];var _useRecoilState3=useRecoilState(Sex),_useRecoilState4=_slicedToArray(_useRecoilState3,1),sex=_useRecoilState4[0];var _useRecoilState5=useRecoilState(TheDate),_useRecoilState6=_slicedToArray(_useRecoilState5,1),date=_useRecoilState6[0];useEffect(function(){setDeaths(function(){var ds=[];var _iterator=_createForOfIteratorHelper(DeathsFile),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var d=_step.value;if(d.age>=age.min&&d.age<=age.max&&(date===null||d.date===date)){if(sex!==-1){if(d.gender===sex){ds.push(d);}}else{ds.push(d);}}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return ds;});},[sex,age,date]);return deaths;};export default useDeaths;","map":{"version":3,"names":["useEffect","useState","useRecoilState","DeathsFile","Age","TheDate","Sex","useDeaths","deaths","setDeaths","age","sex","date","ds","d","min","max","gender","push"],"sources":["/Users/spaul/dev/london/my-app/src/Deaths.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useRecoilState } from 'recoil';\nimport DeathsFile from './assets/deaths.json';\nimport Age from './State/Age';\nimport TheDate from './State/Date';\nimport Sex from './State/Sex';\nimport { CoordinateType } from './Streets';\n\ntype DeathType = CoordinateType&{\n    age: number;\n    gender: number;\n    date: string;\n}\n\nconst useDeaths = () => {\n    const [ deaths, setDeaths ] = useState<Array<DeathType>>(DeathsFile);\n    const [ age ] = useRecoilState(Age);\n    const [ sex ] = useRecoilState(Sex);\n    const [ date ] = useRecoilState(TheDate);\n\n    useEffect(() => {\n        setDeaths(() => {\n            let ds: Array<DeathType> = [];\n            for (let d of DeathsFile) {\n                if (d.age >= age.min && d.age <= age.max && (date === null || d.date === date)) {\n                    if (sex !== -1) {\n                        if (d.gender === sex) {\n                            ds.push(d);\n                        }\n                    } else {\n                        ds.push(d);\n                    }\n                }\n            }\n            return ds;\n        });\n    },[sex, age, date]);\n\n    return deaths;\n}\n\nexport default useDeaths;"],"mappings":"gQAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,cAAT,KAA+B,QAA/B,CACA,MAAOC,WAAP,KAAuB,sBAAvB,CACA,MAAOC,IAAP,KAAgB,aAAhB,CACA,MAAOC,QAAP,KAAoB,cAApB,CACA,MAAOC,IAAP,KAAgB,aAAhB,CASA,GAAMC,UAAS,CAAG,QAAZA,UAAY,EAAM,CACpB,cAA8BN,QAAQ,CAAmBE,UAAnB,CAAtC,wCAAQK,MAAR,eAAgBC,SAAhB,eACA,oBAAgBP,cAAc,CAACE,GAAD,CAA9B,oDAAQM,GAAR,qBACA,qBAAgBR,cAAc,CAACI,GAAD,CAA9B,qDAAQK,GAAR,qBACA,qBAAiBT,cAAc,CAACG,OAAD,CAA/B,qDAAQO,IAAR,qBAEAZ,SAAS,CAAC,UAAM,CACZS,SAAS,CAAC,UAAM,CACZ,GAAII,GAAoB,CAAG,EAA3B,CADY,yCAEEV,UAFF,YAEZ,+CAA0B,IAAjBW,EAAiB,aACtB,GAAIA,CAAC,CAACJ,GAAF,EAASA,GAAG,CAACK,GAAb,EAAoBD,CAAC,CAACJ,GAAF,EAASA,GAAG,CAACM,GAAjC,GAAyCJ,IAAI,GAAK,IAAT,EAAiBE,CAAC,CAACF,IAAF,GAAWA,IAArE,CAAJ,CAAgF,CAC5E,GAAID,GAAG,GAAK,CAAC,CAAb,CAAgB,CACZ,GAAIG,CAAC,CAACG,MAAF,GAAaN,GAAjB,CAAsB,CAClBE,EAAE,CAACK,IAAH,CAAQJ,CAAR,EACH,CACJ,CAJD,IAIO,CACHD,EAAE,CAACK,IAAH,CAAQJ,CAAR,EACH,CACJ,CACJ,CAZW,qDAaZ,MAAOD,GAAP,CACH,CAdQ,CAAT,CAeH,CAhBQ,CAgBP,CAACF,GAAD,CAAMD,GAAN,CAAWE,IAAX,CAhBO,CAAT,CAkBA,MAAOJ,OAAP,CACH,CAzBD,CA2BA,cAAeD,UAAf"},"metadata":{},"sourceType":"module"}