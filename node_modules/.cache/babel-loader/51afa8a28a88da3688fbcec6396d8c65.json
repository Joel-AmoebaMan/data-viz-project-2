{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/spaul/dev/london/my-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _slicedToArray from\"/Users/spaul/dev/london/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{useRecoilState}from'recoil';import DeathsFile from'./assets/deaths.json';import Age from'./State/Age';import Sex from'./State/Sex';var useDeaths=function useDeaths(){var _useState=useState(DeathsFile),_useState2=_slicedToArray(_useState,2),deaths=_useState2[0],setDeaths=_useState2[1];var _useRecoilState=useRecoilState(Age),_useRecoilState2=_slicedToArray(_useRecoilState,1),age=_useRecoilState2[0];var _useRecoilState3=useRecoilState(Sex),_useRecoilState4=_slicedToArray(_useRecoilState3,1),sex=_useRecoilState4[0];useEffect(function(){setDeaths(function(){var ds=[];var _iterator=_createForOfIteratorHelper(DeathsFile),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var d=_step.value;if(d.age>=age.min&&d.age<=age.max){if(sex!==-1){if(d.gender===sex){ds.push(d);}}else{ds.push(d);}}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return ds;});},[sex,age]);return deaths;};export default useDeaths;","map":{"version":3,"names":["useEffect","useState","useRecoilState","DeathsFile","Age","Sex","useDeaths","deaths","setDeaths","age","sex","ds","d","min","max","gender","push"],"sources":["/Users/spaul/dev/london/my-app/src/Deaths.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useRecoilState } from 'recoil';\nimport DeathsFile from './assets/deaths.json';\nimport Age from './State/Age';\nimport Sex from './State/Sex';\nimport { CoordinateType } from './Streets';\n\ntype DeathType = CoordinateType&{\n    age: number;\n    gender: number;\n}\n\nconst useDeaths = () => {\n    const [ deaths, setDeaths ] = useState<Array<DeathType>>(DeathsFile);\n    const [ age ] = useRecoilState(Age);\n    const [ sex ] = useRecoilState(Sex);\n\n    useEffect(() => {\n        setDeaths(() => {\n            let ds: Array<DeathType> = [];\n            for (let d of DeathsFile) {\n                if (d.age >= age.min && d.age <= age.max) {\n                    if (sex !== -1) {\n                        if (d.gender === sex) {\n                            ds.push(d);\n                        }\n                    } else {\n                        ds.push(d);\n                    }\n                }\n            }\n            return ds;\n        });\n    },[sex, age]);\n\n    return deaths;\n}\n\nexport default useDeaths;"],"mappings":"gQAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,cAAT,KAA+B,QAA/B,CACA,MAAOC,WAAP,KAAuB,sBAAvB,CACA,MAAOC,IAAP,KAAgB,aAAhB,CACA,MAAOC,IAAP,KAAgB,aAAhB,CAQA,GAAMC,UAAS,CAAG,QAAZA,UAAY,EAAM,CACpB,cAA8BL,QAAQ,CAAmBE,UAAnB,CAAtC,wCAAQI,MAAR,eAAgBC,SAAhB,eACA,oBAAgBN,cAAc,CAACE,GAAD,CAA9B,oDAAQK,GAAR,qBACA,qBAAgBP,cAAc,CAACG,GAAD,CAA9B,qDAAQK,GAAR,qBAEAV,SAAS,CAAC,UAAM,CACZQ,SAAS,CAAC,UAAM,CACZ,GAAIG,GAAoB,CAAG,EAA3B,CADY,yCAEER,UAFF,YAEZ,+CAA0B,IAAjBS,EAAiB,aACtB,GAAIA,CAAC,CAACH,GAAF,EAASA,GAAG,CAACI,GAAb,EAAoBD,CAAC,CAACH,GAAF,EAASA,GAAG,CAACK,GAArC,CAA0C,CACtC,GAAIJ,GAAG,GAAK,CAAC,CAAb,CAAgB,CACZ,GAAIE,CAAC,CAACG,MAAF,GAAaL,GAAjB,CAAsB,CAClBC,EAAE,CAACK,IAAH,CAAQJ,CAAR,EACH,CACJ,CAJD,IAIO,CACHD,EAAE,CAACK,IAAH,CAAQJ,CAAR,EACH,CACJ,CACJ,CAZW,qDAaZ,MAAOD,GAAP,CACH,CAdQ,CAAT,CAeH,CAhBQ,CAgBP,CAACD,GAAD,CAAMD,GAAN,CAhBO,CAAT,CAkBA,MAAOF,OAAP,CACH,CAxBD,CA0BA,cAAeD,UAAf"},"metadata":{},"sourceType":"module"}