{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { useRecoilState } from 'recoil';\nimport DeathsFile from './assets/deaths.json';\nimport Age from './State/Age';\nimport Sex from './State/Sex';\n\nconst useDeaths = () => {\n  _s();\n\n  const [deaths, setDeaths] = useState(DeathsFile);\n  const [age] = useRecoilState(Age);\n  const [sex] = useRecoilState(Sex);\n  useEffect(() => {\n    setDeaths(() => {\n      let ds = [];\n\n      for (let d of DeathsFile) {\n        if (d.age >= age.min && d.age <= age.max) {\n          if (sex !== -1) {\n            if (d.gender === sex) {\n              ds.push(d);\n            }\n          } else {\n            ds.push(d);\n          }\n        }\n      }\n\n      return ds;\n    });\n  }, [sex, age]);\n  return deaths;\n};\n\n_s(useDeaths, \"If+pH2m47Diqw5ARoTmBTwXh71k=\", false, function () {\n  return [useRecoilState, useRecoilState];\n});\n\nexport default useDeaths;","map":{"version":3,"names":["useEffect","useState","useRecoilState","DeathsFile","Age","Sex","useDeaths","deaths","setDeaths","age","sex","ds","d","min","max","gender","push"],"sources":["/Users/spaul/dev/london/my-app/src/Deaths.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useRecoilState } from 'recoil';\nimport DeathsFile from './assets/deaths.json';\nimport Age from './State/Age';\nimport Sex from './State/Sex';\nimport { CoordinateType } from './Streets';\n\ntype DeathType = CoordinateType&{\n    age: number;\n    gender: number;\n}\n\nconst useDeaths = () => {\n    const [ deaths, setDeaths ] = useState<Array<DeathType>>(DeathsFile);\n    const [ age ] = useRecoilState(Age);\n    const [ sex ] = useRecoilState(Sex);\n\n    useEffect(() => {\n        setDeaths(() => {\n            let ds: Array<DeathType> = [];\n            for (let d of DeathsFile) {\n                if (d.age >= age.min && d.age <= age.max) {\n                    if (sex !== -1) {\n                        if (d.gender === sex) {\n                            ds.push(d);\n                        }\n                    } else {\n                        ds.push(d);\n                    }\n                }\n            }\n            return ds;\n        });\n    },[sex, age]);\n\n    return deaths;\n}\n\nexport default useDeaths;"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,cAAT,QAA+B,QAA/B;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,OAAOC,GAAP,MAAgB,aAAhB;;AAQA,MAAMC,SAAS,GAAG,MAAM;EAAA;;EACpB,MAAM,CAAEC,MAAF,EAAUC,SAAV,IAAwBP,QAAQ,CAAmBE,UAAnB,CAAtC;EACA,MAAM,CAAEM,GAAF,IAAUP,cAAc,CAACE,GAAD,CAA9B;EACA,MAAM,CAAEM,GAAF,IAAUR,cAAc,CAACG,GAAD,CAA9B;EAEAL,SAAS,CAAC,MAAM;IACZQ,SAAS,CAAC,MAAM;MACZ,IAAIG,EAAoB,GAAG,EAA3B;;MACA,KAAK,IAAIC,CAAT,IAAcT,UAAd,EAA0B;QACtB,IAAIS,CAAC,CAACH,GAAF,IAASA,GAAG,CAACI,GAAb,IAAoBD,CAAC,CAACH,GAAF,IAASA,GAAG,CAACK,GAArC,EAA0C;UACtC,IAAIJ,GAAG,KAAK,CAAC,CAAb,EAAgB;YACZ,IAAIE,CAAC,CAACG,MAAF,KAAaL,GAAjB,EAAsB;cAClBC,EAAE,CAACK,IAAH,CAAQJ,CAAR;YACH;UACJ,CAJD,MAIO;YACHD,EAAE,CAACK,IAAH,CAAQJ,CAAR;UACH;QACJ;MACJ;;MACD,OAAOD,EAAP;IACH,CAdQ,CAAT;EAeH,CAhBQ,EAgBP,CAACD,GAAD,EAAMD,GAAN,CAhBO,CAAT;EAkBA,OAAOF,MAAP;AACH,CAxBD;;GAAMD,S;UAEcJ,c,EACAA,c;;;AAuBpB,eAAeI,SAAf"},"metadata":{},"sourceType":"module"}