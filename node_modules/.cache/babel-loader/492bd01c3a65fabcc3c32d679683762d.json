{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { useRecoilState } from 'recoil';\nimport DeathsFile from './assets/deaths.json';\nimport Age from './State/Age';\nimport Sex from './State/Sex';\n\nconst useDeaths = props => {\n  _s();\n\n  const [deaths, setDeaths] = useState(DeathsFile);\n  const [age] = useRecoilState(Age);\n  const [sex] = useRecoilState(Sex);\n  useEffect(() => {\n    setDeaths(() => {\n      let deaths = [];\n\n      for (let d of DeathsFile) {\n        if (d.age >= age.min && d.age <= age.max) {\n          if (sex !== undefined) {\n            if (d.gender === sex) {\n              deaths.push(d);\n            }\n          } else {\n            deaths.push(d);\n          }\n        }\n      }\n\n      return deaths;\n    });\n  }, [sex, age]);\n  return deaths;\n};\n\n_s(useDeaths, \"If+pH2m47Diqw5ARoTmBTwXh71k=\", false, function () {\n  return [useRecoilState, useRecoilState];\n});\n\nexport default useDeaths;","map":{"version":3,"names":["useEffect","useState","useRecoilState","DeathsFile","Age","Sex","useDeaths","props","deaths","setDeaths","age","sex","d","min","max","undefined","gender","push"],"sources":["/Users/spaul/dev/london/my-app/src/Deaths.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useRecoilState } from 'recoil';\nimport DeathsFile from './assets/deaths.json';\nimport Age from './State/Age';\nimport Sex from './State/Sex';\nimport { CoordinateType } from './Streets';\n\ntype Props = {\n\n}\n\ntype DeathType = CoordinateType&{\n    age: number;\n    gender: number;\n}\n\nconst useDeaths = (props: Props) => {\n    const [ deaths, setDeaths ] = useState<Array<DeathType>>(DeathsFile);\n    const [ age ] = useRecoilState(Age);\n    const [ sex ] = useRecoilState(Sex);\n\n    useEffect(() => {\n        setDeaths(() => {\n            let deaths: Array<DeathType> = [];\n            for (let d of DeathsFile) {\n                if (d.age >= age.min && d.age <= age.max) {\n                    if (sex !== undefined) {\n                        if (d.gender === sex) {\n                            deaths.push(d);\n                        }\n                    } else {\n                        deaths.push(d);\n                    }\n                }\n            }\n            return deaths\n        });\n    },[sex, age]);\n\n    return deaths;\n}\n\nexport default useDeaths;"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,cAAT,QAA+B,QAA/B;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,OAAOC,GAAP,MAAgB,aAAhB;;AAYA,MAAMC,SAAS,GAAIC,KAAD,IAAkB;EAAA;;EAChC,MAAM,CAAEC,MAAF,EAAUC,SAAV,IAAwBR,QAAQ,CAAmBE,UAAnB,CAAtC;EACA,MAAM,CAAEO,GAAF,IAAUR,cAAc,CAACE,GAAD,CAA9B;EACA,MAAM,CAAEO,GAAF,IAAUT,cAAc,CAACG,GAAD,CAA9B;EAEAL,SAAS,CAAC,MAAM;IACZS,SAAS,CAAC,MAAM;MACZ,IAAID,MAAwB,GAAG,EAA/B;;MACA,KAAK,IAAII,CAAT,IAAcT,UAAd,EAA0B;QACtB,IAAIS,CAAC,CAACF,GAAF,IAASA,GAAG,CAACG,GAAb,IAAoBD,CAAC,CAACF,GAAF,IAASA,GAAG,CAACI,GAArC,EAA0C;UACtC,IAAIH,GAAG,KAAKI,SAAZ,EAAuB;YACnB,IAAIH,CAAC,CAACI,MAAF,KAAaL,GAAjB,EAAsB;cAClBH,MAAM,CAACS,IAAP,CAAYL,CAAZ;YACH;UACJ,CAJD,MAIO;YACHJ,MAAM,CAACS,IAAP,CAAYL,CAAZ;UACH;QACJ;MACJ;;MACD,OAAOJ,MAAP;IACH,CAdQ,CAAT;EAeH,CAhBQ,EAgBP,CAACG,GAAD,EAAMD,GAAN,CAhBO,CAAT;EAkBA,OAAOF,MAAP;AACH,CAxBD;;GAAMF,S;UAEcJ,c,EACAA,c;;;AAuBpB,eAAeI,SAAf"},"metadata":{},"sourceType":"module"}